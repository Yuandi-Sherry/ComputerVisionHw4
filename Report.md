# 计算机视觉附加题1实验报告

## 实验环境

minGW32 g++

编译命令：

```shell
g++ main.cpp -lgdi32
```

## 实验内容

### Part1

用CImg编写灰度图像直方图均衡化：

（a）用手机拍摄不同光照情况下的图像作为测试样本，不低于5张

（b）分别针对灰度图像和彩色图像分别用直方图均衡化方法完成结果

（c）对实验结果进行分析，特别是彩色图像直接采用直方图均衡化效果如何，如果要改进从哪些方面进行改进

### Part2

根据PPT和参考文献实现颜色转换

（a）测试图像集合不低于5对图像（参考图和原图）

（b）对实验结果以及存在问题进行分析，给出初步的改进建议和参考文献

## 实验过程

### Part 1

### Part 2

## 实验结果

## 实验改进

针对于Part1中彩色图像在RGB通道中分别和在灰度通道中做相同直方图均衡化，再将三个通道叠加在一起并不能取得很好的效果。考虑到由于RGB通道相互影响，并不能得到较好的效果，而且会使得图像的主色调发生较大改变。比如图像偏红，但均衡化之后图像便丧失了这一特征。

后来考虑到RGB通道只是作为三个颜色通道，都进行均衡化必然会使得图像色调发生转变，因而需要一个不影响色调的方法。我尝试了先将图像从RGB空间转换到HSL空间，因而其中只有H通道代表色调，而S通道代表饱和度，L通道代表亮度，尝试在后两个通道上分别或者同时做均衡化然后分析结果。

## 实验思考

针对与Part2中将彩色图像映射到几乎为灰色的图像上效果不好的问题，查找到了这篇论文在RGB空间中将彩色图片的颜色映射到黑白图片上的方法。